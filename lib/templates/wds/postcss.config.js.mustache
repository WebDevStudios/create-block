/**
 * External Dependencies.
 */
const mqpacker = require( 'css-mqpacker' );

// Determine Mode.
const production = 'production' === process.env.NODE_ENV ? true : false;

// Assign plugins.
const plugins = [
	require( 'postcss-safe-parser' ),
	require( 'autoprefixer' ),
	mqpacker( {
		sort: true,
	} ),
];

// Minify production.
if ( production ) {
	plugins.push(
		require( 'cssnano' )( {
			preset: 'default',
		} )
	);
}

// Module Export.
module.exports = {
	plugins,
};
